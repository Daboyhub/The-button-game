<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Everything Button - Complete Chaos</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tone.js for sound effects -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.8.49/Tone.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f0f4f8;
            transition: background-color 0.5s ease, filter 0.5s ease;
            position: relative; /* Needed for fixed/absolute elements */
            overflow: hidden; /* Prevent scrollbars from chaos */
        }

        /* Custom Styles for the Button */
        #chaosButton {
            transition: all 0.15s ease-in-out;
            cursor: pointer;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
            font-size: 2rem;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        #chaosButton:active {
            transform: scale(0.95);
            box-shadow: 0 5px 10px rgba(0, 0, 0, 0.3);
        }

        /* Dynamic Classes for the Game */
        .fast-spin { animation: spin 0.5s infinite linear; }
        .slow-pulse { animation: pulse 2s infinite ease-in-out; }

        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        @keyframes pulse { 0% { transform: scale(1); opacity: 1; } 50% { transform: scale(1.05); opacity: 0.8; } 100% { transform: scale(1); opacity: 1; } }

        /* Style for the random content output */
        #randomOutput {
            min-height: 150px; 
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            background-color: #fef9e7; 
        }
        #randomOutput img {
            max-width: 100%;
            height: auto;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            animation: bounceIn 0.5s ease-out;
        }
        #randomOutput .text-content {
            animation: bounceIn 0.5s ease-out;
            padding: 1rem;
        }
        /* Specific styling for the joke/riddle answer */
        #randomOutput .text-answer {
            color: transparent; 
            transition: all 0.3s ease-in-out;
            cursor: help; 
        }
        #randomOutput .text-answer:hover {
            color: #0c4a6e; 
            text-shadow: 0 0 5px rgba(0,0,0,0.1);
        }
        /* Styling for the annoying follower element */
        .follower-box {
            position: fixed;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            opacity: 0.9;
            pointer-events: none; /* Ignore mouse clicks */
            z-index: 1000;
            transition: opacity 0.5s;
        }

        @keyframes bounceIn {
            0% { opacity: 0; transform: scale(0.8); }
            60% { transform: scale(1.05); }
            100% { opacity: 1; transform: scale(1); }
        }

    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-lg bg-white rounded-3xl p-6 md:p-10 shadow-2xl text-center">
        <h1 class="text-4xl font-extrabold mb-4 text-gray-800">The Everything Button</h1>
        <p class="text-gray-600 mb-8">Press it. Now.</p>

        <!-- The Main Button -->
        <button id="chaosButton" class="w-full py-6 rounded-2xl text-white font-bold bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-4 focus:ring-indigo-500/50">
            PRESS THE CHAOS BUTTON
        </button>

        <!-- Dynamic Random Content Output Area -->
        <div id="randomOutput" class="mt-8 p-4 border border-indigo-200 rounded-xl shadow-inner transition duration-500 ease-in-out">
            <p class="text-xl text-gray-500">Awaiting input for maximum chaos...</p>
        </div>
    </div>

    <script>
        // === Tone.js Setup ===
        let isAudioReady = false;
        // Basic synths for sound effects
        const synth = new Tone.Synth().toDestination();
        const noise = new Tone.NoiseSynth({
            noise: { type: "white" },
            envelope: { attack: 0.005, decay: 0.1, sustain: 0, release: 0.1 }
        }).toDestination();
        
        // This function attempts to start the audio context on user interaction (the button click)
        const startAudioContext = async () => {
            if (!isAudioReady) {
                try {
                    await Tone.start();
                    isAudioReady = true;
                    console.log("Audio Context Started");
                } catch (e) {
                    console.error("Could not start audio context:", e);
                }
            }
        };

        // === Core Variables ===
        const button = document.getElementById('chaosButton');
        const body = document.body;
        const randomOutput = document.getElementById('randomOutput');
        
        button.textContent = 'PRESS THE CHAOS BUTTON';
        button.style.fontSize = '2rem';
        button.style.backgroundColor = '#4f46e5'; 

        // Function to generate a random HEX color
        const getRandomColor = () => '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');

        // Function to reset visual elements after a delay
        const resetVisuals = () => {
            // Remove all dynamic classes
            body.classList.remove('slow-pulse');
            button.classList.remove('fast-spin');
            // Reset button styles not covered by classes
            button.style.transform = 'scale(1)';
            button.style.fontSize = '2rem';
            button.style.boxShadow = '0 10px 20px rgba(0, 0, 0, 0.2)';
            body.style.filter = 'none'; // Reset body filter
        };
        
        // Function to clear existing content
        const clearContent = () => {
            randomOutput.innerHTML = '';
            randomOutput.className = 'mt-8 p-4 border border-indigo-200 rounded-xl shadow-inner transition duration-500 ease-in-out';
            randomOutput.style.backgroundColor = '#fef9e7';
        };

        // --- CONTENT/INTERACTIVE EVENTS (Run one per click) ---
        // This list includes all previous content categories plus the new interactive elements.
        const contentEvents = [
            // 1. Random Funny Quote
            {
                name: "Random Funny Quote",
                action: () => {
                    const quotes = [
                        "I used to think I was indecisive, but now I'm not so sure.",
                        "If you are what you eat, then I am mostly pizza and existential dread.",
                        "The mitochondria is the powerhouse of the cell. (Mandatory meme content.)",
                        "I'm not clumsy. The floor just hates me, the walls are bullies, and the furniture keeps moving.",
                        "Just when I found the meaning of life, they changed it."
                    ];
                    const quote = quotes[Math.floor(Math.random() * quotes.length)];
                    randomOutput.innerHTML = `<p class="text-content text-2xl italic font-serif text-gray-800">"${quote}"</p>`;
                }
            },
            // 2. Meme Placeholder Photo
            {
                name: "Meme Placeholder Photo",
                action: () => {
                    const placeholders = [
                        { w: 300, h: 300, text: "Wait, That's Illegal" },
                        { w: 400, h: 200, text: "Unexpected Item in Bagging Area" },
                        { w: 250, h: 350, text: "Loading... Greatness" },
                        { w: 350, h: 250, text: "Error 404: Funny Not Found" }
                    ];
                    const item = placeholders[Math.floor(Math.random() * placeholders.length)];
                    const imageUrl = `https://placehold.co/${item.w}x${item.h}/1e40a0/ffffff?text=${item.text.replace(/ /g, '+')}`;
                    randomOutput.innerHTML = `<img src="${imageUrl}" onerror="this.onerror=null;this.src='https://placehold.co/300x300/ff0000/ffffff?text=Image+Load+Error'" alt="Funny Placeholder" title="${item.text}">`;
                }
            },
            // 3. ASCII Art Surprise
            {
                name: "ASCII Art Surprise",
                action: () => {
                    const asciiArt = [
                        `<pre class="font-mono text-lg text-green-700">
 ( ‚Ä¢_‚Ä¢)
 ( ‡∏á )‡∏á
 /  \
( ‚Ä¢_‚Ä¢)
( ‡∏á )‡∏á
/  \</pre>`,
                        `<pre class="font-mono text-base text-purple-700">
 _/|
/  |
|  |
|  |
|  |
|  |
|  |
</pre>`,
                    ];
                    const art = asciiArt[Math.floor(Math.random() * asciiArt.length)];
                    randomOutput.innerHTML = `<div class="text-center">${art}</div>`;
                    randomOutput.style.backgroundColor = '#f3e8ff'; 
                }
            },
            // 4. Unexpected Fun Fact
            {
                name: "Unexpected Fun Fact",
                action: () => {
                    const facts = ["A group of flamingos is called a 'flamboyance.'", "Octopuses have three hearts.", "Honey never spoils.", "A day on Venus is longer than a year on Venus."];
                    const fact = facts[Math.floor(Math.random() * facts.length)];
                    randomOutput.innerHTML = `<div class="text-content text-xl font-bold text-teal-700">ü§Ø Fun Fact:</div><p class="text-base text-teal-600">${fact}</p>`;
                    randomOutput.style.backgroundColor = '#ccfbf1'; 
                }
            },
            // 5. Wholesome Encouragement
            {
                name: "Wholesome Encouragement",
                action: () => {
                    const messages = ["You are doing great! Keep up the awesome work!", "Someone is proud of you today (it's me!).", "Your creativity is shining brighter than a supernova!"];
                    const message = messages[Math.floor(Math.random() * messages.length)];
                    randomOutput.innerHTML = `<div class="text-content text-2xl font-extrabold text-pink-600">üíñ Positive Vibes!</div><p class="text-xl text-pink-500">${message}</p>`;
                    randomOutput.style.backgroundColor = '#fce7f6'; 
                }
            },
            // 6. Simple Joke/Riddle
            {
                name: "Simple Joke/Riddle",
                action: () => {
                    const jokes = [{ q: "Why did the scarecrow win an award?", a: "Because he was outstanding in his field!" }, { q: "What do you call a fake noodle?", a: "An impasta." }];
                    const joke = jokes[Math.floor(Math.random() * jokes.length)];
                    randomOutput.innerHTML = `<div class="text-content text-center"><p class="text-xl font-medium text-blue-700 mb-2">‚ùì ${joke.q}</p><p class="text-sm italic text-blue-500 mt-2">(Hover over the text below for the answer!)</p><p class="text-answer font-bold text-lg">ANSWER: ${joke.a}</p></div>`;
                    randomOutput.style.backgroundColor = '#dbeafe'; 
                }
            },
            // 7. Pirate Talk
            {
                name: "Pirate Talk",
                action: () => {
                    const phrases = ["Ahoy, matey! Shiver me timbers!", "Where be the rum, ye landlubber?", "Aarrr! That's a fine click ye got there."];
                    const phrase = phrases[Math.floor(Math.random() * phrases.length)];
                    randomOutput.innerHTML = `<div class="text-content text-2xl font-extrabold text-amber-700">üè¥‚Äç‚ò†Ô∏è Pirate Mode:</div><p class="text-xl italic text-amber-600">${phrase}</p>`;
                    randomOutput.style.backgroundColor = '#fef3c7'; 
                }
            },
            // 8. Programming Humor
            {
                name: "Programming Humor",
                action: () => {
                    const jokes = ["Why do programmers prefer dark mode? Because light attracts bugs!", "There are 10 types of people in the world: those who understand binary, and those who don't."];
                    const joke = jokes[Math.floor(Math.random() * jokes.length)];
                    randomOutput.innerHTML = `<div class="text-content text-xl font-mono text-red-700">üêõ Error Message:</div><p class="text-base text-red-600">${joke}</p>`;
                    randomOutput.style.backgroundColor = '#fee2e2'; 
                }
            },
            // 9. Random Emojis
            {
                name: "Random Emojis",
                action: () => {
                    const emojis = ["üöÄ", "üçï", "ü¶Ñ", "üëΩ", "üëæ", "‚ú®", "üî•", "üåà", "üëë", "üåÆ", "üóø", "üíÄ", "üßê"];
                    let emojiString = '';
                    for (let i = 0; i < 5; i++) {
                        emojiString += emojis[Math.floor(Math.random() * emojis.length)];
                    }
                    randomOutput.innerHTML = `<div class="text-content text-5xl">${emojiString}</div>`;
                    randomOutput.style.backgroundColor = '#e0f2f1'; 
                }
            },
            // 10. NEW INTERACTIVE EVENT: Annoying Follower
            {
                name: "Annoying Follower",
                action: () => {
                    randomOutput.innerHTML = `<div class="text-content text-xl font-bold text-gray-700">üëÄ Watch out! Something is following you...</div>`;
                    randomOutput.style.backgroundColor = '#ffe4e6'; 
                    
                    const follower = document.createElement('div');
                    const followerColor = getRandomColor();
                    follower.className = 'follower-box shadow-xl';
                    follower.style.backgroundColor = followerColor;
                    follower.style.left = `${Math.random() * 90}vw`;
                    follower.style.top = `${Math.random() * 90}vh`;
                    follower.innerHTML = 'üö®';
                    document.body.appendChild(follower);

                    const moveFollower = (e) => {
                        // Slowly move the follower towards the cursor position (smoothed motion)
                        const speed = 0.05; 
                        const rect = follower.getBoundingClientRect();
                        const fX = rect.left;
                        const fY = rect.top;
                        
                        const newX = fX + (e.clientX - fX) * speed;
                        const newY = fY + (e.clientY - fY) * speed;

                        follower.style.left = `${newX}px`;
                        follower.style.top = `${newY}px`;
                    };

                    document.addEventListener('mousemove', moveFollower);

                    // Clean up after 3 seconds
                    setTimeout(() => {
                        follower.style.opacity = '0';
                        document.removeEventListener('mousemove', moveFollower);
                        setTimeout(() => follower.remove(), 500);
                    }, 3000);
                }
            },
            // 11. NEW INTERACTIVE EVENT: Hidden Message Pop-up
            {
                name: "Hidden Message Pop-up",
                action: () => {
                    const messages = ["You found me!", "The cake is a lie.", "Hello from the corner!", "Don't click me!", "Have you checked the fridge?"];
                    const msg = messages[Math.floor(Math.random() * messages.length)];
                    randomOutput.innerHTML = `<div class="text-content text-xl font-bold text-gray-700">A mysterious box has appeared!</div>`;

                    const popup = document.createElement('div');
                    popup.className = 'absolute p-2 bg-yellow-400 text-black text-xs font-bold rounded-lg shadow-xl cursor-pointer hover:scale-105 transition';
                    popup.style.left = `${Math.random() * 80 + 10}vw`; // Random horizontal position
                    popup.style.top = `${Math.random() * 80 + 10}vh`; // Random vertical position
                    popup.style.zIndex = '1000';
                    popup.innerHTML = `[Click to dismiss: ${msg}]`;
                    
                    popup.onclick = () => {
                        popup.remove();
                    };
                    document.body.appendChild(popup);

                    // Clean up after 5 seconds if not clicked
                    setTimeout(() => popup.remove(), 5000);
                }
            }
        ];

        // --- VISUAL/AUDIO EVENTS (Run 1-3 per click) ---
        const visualEvents = [
            // Existing Visual Events
            { name: "Button Color Shift", action: () => { const color = getRandomColor(); button.style.backgroundColor = color; button.style.color = 'white'; } },
            { name: "Brief Background Flash", action: () => { const color = getRandomColor(); body.style.backgroundColor = color; setTimeout(() => { body.style.backgroundColor = '#f0f4f8'; }, 300); } },
            { name: "Text Size Jolt", action: () => { const randomSize = Math.floor(Math.random() * 20) + 16; button.style.fontSize = `${randomSize}px`; } },
            { name: "Quick Spin and Rebound", action: () => { button.classList.add('fast-spin'); setTimeout(() => { button.classList.remove('fast-spin'); }, 800); } },
            
            // NEW VISUAL: Invert Colors
            {
                name: "Invert Colors",
                action: () => {
                    body.style.filter = 'invert(100%)';
                    setTimeout(() => {
                        body.style.filter = 'none';
                    }, 400);
                }
            },
            // NEW VISUAL: Random Blur
            {
                name: "Random Blur",
                action: () => {
                    const blurAmount = Math.floor(Math.random() * 5) + 2; 
                    body.style.filter = `blur(${blurAmount}px)`;
                    setTimeout(() => {
                        body.style.filter = 'none';
                    }, 500);
                }
            },
            // NEW AUDIO: Sci-Fi Zap (requires audio context to be started)
            {
                name: "Sci-Fi Zap Sound",
                action: () => {
                    if (isAudioReady) {
                        synth.triggerAttackRelease("C5", "8n");
                    }
                }
            },
            // NEW AUDIO: Low Riser (requires audio context to be started)
            {
                name: "Low Riser Sound",
                action: () => {
                    if (isAudioReady) {
                        noise.triggerAttackRelease("4n", "+0.1"); 
                    }
                }
            }
        ];

        // === Event Listener ===
        button.addEventListener('click', () => {
            // 1. Start Audio Context (must be on user interaction)
            startAudioContext(); 
            
            // Check for temporary lock
            if (button.disabled) return; 

            // 2. Reset visual elements
            resetVisuals();
            
            // 3. Clear previous random content
            clearContent();

            // 4. Determine how many visual events will fire (1 to 3 events)
            const numVisualEvents = Math.floor(Math.random() * 3) + 1; 
            
            // 5. Run the visual/audio chaos
            for (let i = 0; i < numVisualEvents; i++) {
                const randomIndex = Math.floor(Math.random() * visualEvents.length);
                visualEvents[randomIndex].action(); 
            }

            // 6. Always run ONE content/interactive event 
            const contentIndex = Math.floor(Math.random() * contentEvents.length);
            contentEvents[contentIndex].action();
            
            // 7. Add a small temporary lock
            button.disabled = true;
            setTimeout(() => {
                button.disabled = false;
            }, 500); // 0.5 second cooldown

        });
    </script>
</body>
</html>
